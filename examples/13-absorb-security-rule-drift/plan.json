{
  "format_version": "1.2",
  "terraform_version": "1.14.0",
  "resource_drift": [
    {
      "address": "azurerm_resource_group.test",
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "test",
      "provider_name": "registry.terraform.io/hashicorp/azurerm",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg",
          "location": "eastus",
          "managed_by": "",
          "name": "graft-absorb-nested-test-rg",
          "tags": {
            "environment": "test",
            "project": "graft"
          },
          "timeouts": null
        },
        "after": {
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg",
          "location": "eastus",
          "managed_by": "",
          "name": "graft-absorb-nested-test-rg",
          "tags": {
            "Creator": "user@example.com",
            "DateCreated": "2026-02-06T14:50:54Z",
            "environment": "production",
            "owner": "drifttest",
            "project": "graft",
            "team": "platform"
          },
          "timeouts": null
        },
        "after_unknown": {}
      }
    },
    {
      "address": "module.network.azurerm_virtual_network.main",
      "module_address": "module.network",
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/azurerm",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "address_space": [
            "10.0.0.0/16"
          ],
          "bgp_community": "",
          "ddos_protection_plan": [],
          "dns_servers": [],
          "edge_zone": "",
          "encryption": [],
          "flow_timeout_in_minutes": 0,
          "guid": "3c0ebb79-1af1-47e4-812d-ca9462f15cc4",
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet",
          "ip_address_pool": [],
          "location": "eastus",
          "name": "graft-absorb-nested-test-vnet",
          "private_endpoint_vnet_policies": "Disabled",
          "resource_group_name": "graft-absorb-nested-test-rg",
          "subnet": [
            {
              "address_prefixes": [
                "10.0.1.0/24"
              ],
              "default_outbound_access_enabled": false,
              "delegation": [],
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet/subnets/web-subnet",
              "name": "web-subnet",
              "private_endpoint_network_policies": "Disabled",
              "private_link_service_network_policies_enabled": true,
              "route_table_id": "",
              "security_group": "",
              "service_endpoint_policy_ids": [],
              "service_endpoints": []
            },
            {
              "address_prefixes": [
                "10.0.2.0/24"
              ],
              "default_outbound_access_enabled": false,
              "delegation": [],
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet/subnets/app-subnet",
              "name": "app-subnet",
              "private_endpoint_network_policies": "Disabled",
              "private_link_service_network_policies_enabled": true,
              "route_table_id": "",
              "security_group": "",
              "service_endpoint_policy_ids": [],
              "service_endpoints": []
            }
          ],
          "tags": {
            "environment": "test",
            "layer": "network"
          },
          "timeouts": null
        },
        "after": {
          "address_space": [
            "10.0.0.0/16"
          ],
          "bgp_community": "",
          "ddos_protection_plan": [],
          "dns_servers": [],
          "edge_zone": "",
          "encryption": [],
          "flow_timeout_in_minutes": 0,
          "guid": "3c0ebb79-1af1-47e4-812d-ca9462f15cc4",
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet",
          "ip_address_pool": [],
          "location": "eastus",
          "name": "graft-absorb-nested-test-vnet",
          "private_endpoint_vnet_policies": "Disabled",
          "resource_group_name": "graft-absorb-nested-test-rg",
          "subnet": [
            {
              "address_prefixes": [
                "10.0.1.0/24"
              ],
              "default_outbound_access_enabled": false,
              "delegation": [],
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet/subnets/web-subnet",
              "name": "web-subnet",
              "private_endpoint_network_policies": "Disabled",
              "private_link_service_network_policies_enabled": true,
              "route_table_id": "",
              "security_group": "",
              "service_endpoint_policy_ids": [],
              "service_endpoints": []
            },
            {
              "address_prefixes": [
                "10.0.2.0/24"
              ],
              "default_outbound_access_enabled": false,
              "delegation": [],
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet/subnets/app-subnet",
              "name": "app-subnet",
              "private_endpoint_network_policies": "Disabled",
              "private_link_service_network_policies_enabled": true,
              "route_table_id": "",
              "security_group": "",
              "service_endpoint_policy_ids": [],
              "service_endpoints": []
            },
            {
              "address_prefixes": [
                "10.0.3.0/24"
              ],
              "default_outbound_access_enabled": false,
              "delegation": [],
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/virtualNetworks/graft-absorb-nested-test-vnet/subnets/db-subnet",
              "name": "db-subnet",
              "private_endpoint_network_policies": "Disabled",
              "private_link_service_network_policies_enabled": true,
              "route_table_id": "",
              "security_group": "",
              "service_endpoint_policy_ids": [],
              "service_endpoints": []
            }
          ],
          "tags": {
            "environment": "production",
            "layer": "network",
            "owner": "drifttest"
          },
          "timeouts": null
        },
        "after_unknown": {}
      }
    },
    {
      "address": "module.network.module.security.azurerm_network_security_group.main",
      "module_address": "module.network.module.security",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/azurerm",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/networkSecurityGroups/graft-absorb-nested-test-nsg",
          "location": "eastus",
          "name": "graft-absorb-nested-test-nsg",
          "resource_group_name": "graft-absorb-nested-test-rg",
          "security_rule": [
            {
              "access": "Allow",
              "description": "",
              "destination_address_prefix": "*",
              "destination_address_prefixes": [],
              "destination_application_security_group_ids": [],
              "destination_port_range": "22",
              "destination_port_ranges": [],
              "direction": "Inbound",
              "name": "allow-ssh",
              "priority": 100,
              "protocol": "Tcp",
              "source_address_prefix": "10.0.0.0/8",
              "source_address_prefixes": [],
              "source_application_security_group_ids": [],
              "source_port_range": "*",
              "source_port_ranges": []
            }
          ],
          "tags": {
            "environment": "test",
            "layer": "security"
          },
          "timeouts": null
        },
        "after": {
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/graft-absorb-nested-test-rg/providers/Microsoft.Network/networkSecurityGroups/graft-absorb-nested-test-nsg",
          "location": "eastus",
          "name": "graft-absorb-nested-test-nsg",
          "resource_group_name": "graft-absorb-nested-test-rg",
          "security_rule": [
            {
              "access": "Allow",
              "description": "",
              "destination_address_prefix": "*",
              "destination_address_prefixes": [],
              "destination_application_security_group_ids": [],
              "destination_port_range": "22",
              "destination_port_ranges": [],
              "direction": "Inbound",
              "name": "allow-ssh",
              "priority": 100,
              "protocol": "Tcp",
              "source_address_prefix": "10.0.0.0/8",
              "source_address_prefixes": [],
              "source_application_security_group_ids": [],
              "source_port_range": "*",
              "source_port_ranges": []
            },
            {
              "access": "Allow",
              "description": "",
              "destination_address_prefix": "*",
              "destination_address_prefixes": [],
              "destination_application_security_group_ids": [],
              "destination_port_range": "443",
              "destination_port_ranges": [],
              "direction": "Inbound",
              "name": "allow-https",
              "priority": 200,
              "protocol": "Tcp",
              "source_address_prefix": "10.0.0.0/8",
              "source_address_prefixes": [],
              "source_application_security_group_ids": [],
              "source_port_range": "*",
              "source_port_ranges": []
            }
          ],
          "tags": {
            "compliance": "required",
            "environment": "production",
            "layer": "security",
            "owner": "drifttest"
          },
          "timeouts": null
        },
        "after_unknown": {}
      }
    }
  ],
  "resource_changes": []
}